<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<!--
  ~ Copyright (c) 2024. Hyster-Yale Group
  ~ All rights reserved.
  -->

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
    <changeSet author="hoangnhan" id="loadData-3" context="!prod">
        <loadUpdateData
                file="classpath:db/database/_role_.csv"
                primaryKey="id"
                quotchar="'"
                tableName="role">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/_user_.csv"
                primaryKey="id"
                quotchar="'"
                tableName="user">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/currency.csv"
                primaryKey="currency"
                quotchar="'"
                tableName="currency">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/exchange_rate.csv"
                primaryKey="id"
                quotchar="'"
                tableName="exchange_rate">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/clazz.csv"
                primaryKey="id"
                quotchar="'"
                tableName="clazz">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/region.csv"
                primaryKey="id"
                quotchar="'"
                tableName="region">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/country.csv"
                primaryKey="id"
                quotchar="'"
                tableName="country">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/dealer.csv"
                primaryKey="id"
                quotchar="'"
                tableName="dealer">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/aopmargin.csv"
                primaryKey="id"
                quotchar="'"
                tableName="aopmargin">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/product.csv"
                primaryKey="id"
                quotchar="'"
                tableName="product">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/booking.csv"
                primaryKey="order_no"
                quotchar="'"
                tableName="booking">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/competitor_color.csv"
                primaryKey="id"
                quotchar="'"
                tableName="competitor_color">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/competitor_pricing.csv"
                primaryKey="id"
                quotchar="'"
                tableName="competitor_pricing">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/shipment.csv"
                primaryKey="order_no"
                quotchar="'"
                tableName="shipment">
        </loadUpdateData>


        <loadUpdateData
                file="classpath:db/database/margin_analyst_macro.csv"
                primaryKey="id"
                quotchar="'"
                tableName="margin_analyst_macro">
        </loadUpdateData>


        <loadUpdateData
                file="classpath:db/database/marginanalysisaoprate.csv"
                primaryKey="id"
                quotchar="'"
                tableName="marginanalysisaoprate">
        </loadUpdateData>
        <loadUpdateData
                file="classpath:db/database/frequency.csv"
                primaryKey="id"
                quotchar="'"
                tableName="frequency">
        </loadUpdateData>
        <loadUpdateData
                file="classpath:db/database/model_type.csv"
                primaryKey="id"
                quotchar="'"
                tableName="model_type">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/file_upload.csv"
                primaryKey="id"
                quotchar="'"
                tableName="file_upload">
        </loadUpdateData>

        <loadUpdateData
                file="classpath:db/database/import_tracking.csv"
                primaryKey="id"
                quotchar="'"
                tableName="import_tracking">
        </loadUpdateData>

    </changeSet>

    <changeSet id="load_data_from_csv" author="songiang">
        <sql>
            INSERT INTO residual_value (hours, created_at, created_by, latest_modified_at, latest_modified_by,
                                        residualvaluepercent, years, product)
            SELECT *
            FROM CSVREAD('classpath:db/database/residual_value.csv');
        </sql>
    </changeSet>
</databaseChangeLog>